<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Información</title>
    <link rel="stylesheet" href="../CSS/MoreInfoPageStyle.css" />
    <link rel="stylesheet" href="../CSS/MenuStyle.css" />
    <link rel="stylesheet" href="../CSS/homeHeader.css" />
    <link rel="stylesheet" href="../CSS/services.css" />
</head>
<body>
<div id="header"></div> <!-- El header se cargará dinámicamente aquí -->

<div id="menu-container">
    <nav id="side-menu">
        <ul>
            <li><a href="#weather-section">Tiempo atmosférico</a></li>
            <li><a href="#swell-section">Oleaje</a></li>
            <li><a href="#wave-section">Marea</a></li>
            <li><a href="#services-section">Instalaciones</a></li>
            <li><a href="#fish-gallery-section">Galería de peces</a></li>
            <li><a href="#fish-zone-section">Peces por zona</a></li>
        </ul>
    </nav>
</div>

<div id="main-content">

    <div id="weather-section" class="scroll-section">Cargando tiempo atmosférico...</div>
    <div id="swell-section" class="scroll-section">Cargando oleaje...</div>
    <div id="wave-section" class="scroll-section">Cargando marea...</div>
    <div id="services-section" class="scroll-section">Cargando instalaciones...</div>
    <div id="fish-gallery-section" class="scroll-section">Cargando galería de peces...</div>
    <div id="fish-zone-section" class="scroll-section">Cargando peces por zona...</div>
</div>

<script>
    // Marcar sección activa al hacer scroll
    const sections = document.querySelectorAll('.scroll-section');
    const menuItems = document.querySelectorAll('#side-menu li');

    window.addEventListener('scroll', () => {
        let currentSectionId = '';
        const offset = 100; // margen superior

        sections.forEach(section => {
            const rect = section.getBoundingClientRect();
            if (rect.top <= offset && rect.bottom > offset) {
                currentSectionId = section.id;
            }
        });

        menuItems.forEach(item => {
            item.classList.remove('active');
            const link = item.querySelector('a');
            if (link.getAttribute('href') === '#' + currentSectionId) {
                item.classList.add('active');
            }
        });
    });

    // Cargar templates dinámicamente
    function loadTemplates() {
        const templates = {
            'weather-section': '../HTML-components/mainWeather.html',
            'swell-section': '../HTML-components/swell.html',
            'wave-section': '../HTML-components/wave.html',
            'services-section': '../HTML-components/services.html',
            'fish-gallery-section': '../HTML-components/FishInfo.html',
            'fish-zone-section': '../HTML-components/FishByZone.html',
        };

        for (const [id, url] of Object.entries(templates)) {
            fetch(url)
                .then(res => res.text())
                .then(html => {
                    document.getElementById(id).innerHTML = html;
                });
        }
    }

    // Cargar el header dinámicamente
    function loadHeader() {
        const headerContainer = document.getElementById('header');
        fetch('../HTML-components/header.html')
            .then(res => res.text())
            .then(html => {
                headerContainer.innerHTML = html;
            });
    }

    // Inicialización cuando el DOM está listo
    document.addEventListener("DOMContentLoaded", () => {
        loadHeader();
        loadTemplates();
    });
</script>
</body>
</html>
